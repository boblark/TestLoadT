# TestLoadT
Test failures of loading Teensy

In my experience the load/boot problem is only for Teensy 4.0.
I have tested Teensy 3.6 and 4.0.

There is a single .INO that always does a good load and reboot or always a bad load or reboot, depending on
the seetting of the define BEGIN_IN_CONSTRUCTOR.  If this is 0 (false),
the begin() function for the constructor of the class TL_AudioOutputI2S_OA_F32 is executed 
during the setup() of the sketch.  If it is 1 (true) it is executed as part of the 
constructor for the class.

For the 0 case, everything loads to the Teensy and runs normally.  If it is 1, the
program seems to load, but the Teensyduino Loader apparently cannot open
the USB device and boot up the program.  In addition, the Loader and Linux kernel
are put into an error state that requires several Linux restarts to clear.

See the files July27CrashInfo.txt, July28_syslog.txt for more details.

For LST and HEX files generated by the INO, go to the directories CompiledFiles_0_OK
and CompiledFiles_1_NG for the 0 and 1 cases.

The files TL_AudioOutputI2S_OA_F32.h and .cpp mimic the Teensy Audio files
AudioOutputI2S.h and .cpp with one exception that the audio output words are floating
point and converted to 16-bit integer at the very beginning of the update() function.
All ISR and I2S handling is the same.

NOTE: To compile the INO just treat this github directory as any Arduino library. 
If you have collisions (already defined...) on AudioStream_F32 or synth_sine_f32 it
means you have installed the OpenAudio_ArduinoLibrary and don't need those files.
Either remove them or disable them with a name change on the file type.

Bob Larkin
